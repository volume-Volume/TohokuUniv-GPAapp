<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPA Calculator</title>
    <style>
        /* ... (スタイルは変わらず) ... */
    </style>
</head>
<body>

<div class="container">
    <h2>GPA Calculator</h2>

    <form id="gpaForm">
        <!-- ... (フォーム部分は変わらず) ... -->
    </form>

    <div id="result" style="display: none;">
        <!-- ... (結果表示部分は変わらず) ... -->
    </div>
</div>

<script>
const GRADE_MAP = {
    'ＡＡ': 4.0,
    'Ａ': 3.0,
    'Ｂ': 2.0,
    'Ｃ': 1.0,
    'Ｄ': 0.0
};

function semester_number(year, term, start_year) {
    return (year - start_year) * 2 + (1 if term in ["前期", "前期集中", "前期前半", "前期後半", "通年集中"] else 2);
}

document.getElementById('gpaForm').addEventListener('submit', function(event) {
    event.preventDefault();

    const input_text = document.getElementById('input_text').value;
    const lines = input_text.split("\n");
    const start_year = parseInt(document.getElementById('start_year').value);

    const semester_data = {};
    // ... GPA 計算ロジック ...

    // DOM に結果を表示するロジック
    const resultDiv = document.getElementById('result');
    resultDiv.style.display = 'block';
    // 他の結果表示ロジック ...
});

</script>

</body>
</html>
